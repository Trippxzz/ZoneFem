{% extends 'base.html' %}
{% load static %}

{% block title %}Catálogo de Servicios{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto my-8 p-5 animate-fadeIn">

    <div id="servicios" class="content-page">
        <h1 class="page-title text-4xl mb-6 text-instagram-gradient text-center pb-3 border-b border-border-color">
            <i class="fas fa-user-md"></i> Servicios Disponibles
        </h1>
        
        <div class="filters flex justify-between mb-6 flex-wrap gap-5 bg-card-bg p-5 rounded-xl shadow-light">
            <div class="filter-group flex items-center gap-3">
                <label class="font-medium"><i class="fas fa-filter"></i> Filtrar:</label>
                <select class="py-2 px-4 border border-border-color rounded-lg bg-card-bg cursor-pointer transition-all duration-300 focus:outline-none focus:border-instagram-pink">
                    <option>Todos los servicios</option>
                    <option>Disponibles</option>
                </select>
            </div>
            <div class="filter-group flex items-center gap-3">
                <label class="font-medium"><i class="fas fa-sort"></i> Ordenar por:</label>
                <select class="py-2 px-4 border border-border-color rounded-lg bg-card-bg cursor-pointer transition-all duration-300 focus:outline-none focus:border-instagram-pink">
                    <option>Nombre (A-Z)</option>
                    <option>Precio: menor a mayor</option>
                </select>
            </div>
        </div>

<div class="products-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
    
    {% for servicio in servicios %}
    <div class="product-card bg-card-bg rounded-2xl overflow-hidden shadow-light border border-border-color transition-all duration-300 hover:-translate-y-2 hover:shadow-medium flex flex-col">
      
      {% if servicio.imagen_principal %}
        <img src="{{ servicio.imagen_principal.imagen.url }}" class="product-image w-full h-56 object-cover" alt="{{ servicio.nombre }}">
      {% else %}
        <img src="https://via.placeholder.com/400x300?text=ZONEFEM" class="product-image w-full h-56 object-cover" alt="Sin Imagen">
      {% endif %}

      <div class="product-info p-5 flex flex-col flex-1">
        <h3 class="product-title text-xl mb-2 font-bold text-text-dark">{{ servicio.nombre }}</h3>
        
        <div class="product-brand text-text-light text-sm mb-3 flex items-center gap-2">
            <i class="far fa-clock"></i> Duración: {{ servicio.duracion }} min
        </div>
        
        <div class="product-price text-2xl font-bold text-instagram-pink mb-4">
            ${{ servicio.precio }} CLP
        </div>
        
        <p class="text-gray-600 text-sm mb-4 line-clamp-2 flex-1">
            {{ servicio.descripcion }}
        </p>

        <div class="product-actions flex gap-3 mt-auto">
            <a href="{% url 'detalleservicio' servicio.id %}" class="btn btn-primary w-full py-2 px-4 border-none rounded-lg font-bold transition-all duration-300 inline-flex items-center justify-center gap-2 text-white bg-instagram-gradient hover:shadow-lg hover:-translate-y-1 decoration-0">
                <i class="fas fa-calendar-check"></i> Ver Detalles
            </a>
        </div>
      </div>
    </div>
    {% empty %}
      <div class="col-span-full text-center py-10 bg-card-bg rounded-xl border border-border-color">
        <i class="fas fa-inbox text-4xl text-gray-300 mb-3"></i>
        <p class="text-xl text-gray-500">No hay servicios disponibles en este momento.</p>
      </div>
    {% endfor %}
</div>
    </div>
</div>
{% endblock %}